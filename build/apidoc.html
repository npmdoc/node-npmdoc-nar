<div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a

        href="https://github.com/h2non/nar"

    >nar (v0.3.40)</a>
</h1>
<h4>node.js application archive</h4>
<div class="apidocSectionDiv"><a
    href="#apidoc.tableOfContents"
    id="apidoc.tableOfContents"
><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.nar">module nar</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nar.create">
            function <span class="apidocSignatureSpan">nar.</span>create
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nar.createExec">
            function <span class="apidocSignatureSpan">nar.</span>createExec
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nar.download">
            function <span class="apidocSignatureSpan">nar.</span>download
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nar.extract">
            function <span class="apidocSignatureSpan">nar.</span>extract
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nar.get">
            function <span class="apidocSignatureSpan">nar.</span>get
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nar.install">
            function <span class="apidocSignatureSpan">nar.</span>install
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nar.list">
            function <span class="apidocSignatureSpan">nar.</span>list
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nar.run">
            function <span class="apidocSignatureSpan">nar.</span>run
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">nar.</span>cli</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">nar.</span>common</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">nar.</span>utils</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">nar.</span>VERSION</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.nar.cli">module nar.cli</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nar.cli.parse">
            function <span class="apidocSignatureSpan">nar.cli.</span>parse
            <span class="apidocSignatureSpan">(it)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.nar.common">module nar.common</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nar.common.archiveName">
            function <span class="apidocSignatureSpan">nar.common.</span>archiveName
            <span class="apidocSignatureSpan">(nar)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nar.common.createBar">
            function <span class="apidocSignatureSpan">nar.common.</span>createBar
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nar.common.echo">
            function <span class="apidocSignatureSpan">nar.common.</span>echo
            <span class="apidocSignatureSpan">(it)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nar.common.exit">
            function <span class="apidocSignatureSpan">nar.common.</span>exit
            <span class="apidocSignatureSpan">(code)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nar.common.extend">
            function <span class="apidocSignatureSpan">nar.common.</span>extend
            <span class="apidocSignatureSpan">(target)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nar.common.isUrl">
            function <span class="apidocSignatureSpan">nar.common.</span>isUrl
            <span class="apidocSignatureSpan">(it)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nar.common.onArchive">
            function <span class="apidocSignatureSpan">nar.common.</span>onArchive
            <span class="apidocSignatureSpan">(debug, verbose)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nar.common.onDownload">
            function <span class="apidocSignatureSpan">nar.common.</span>onDownload
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nar.common.onDownloadEnd">
            function <span class="apidocSignatureSpan">nar.common.</span>onDownloadEnd
            <span class="apidocSignatureSpan">(bar)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nar.common.onEntry">
            function <span class="apidocSignatureSpan">nar.common.</span>onEntry
            <span class="apidocSignatureSpan">(action)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nar.common.onError">
            function <span class="apidocSignatureSpan">nar.common.</span>onError
            <span class="apidocSignatureSpan">(debug)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nar.common.onExtract">
            function <span class="apidocSignatureSpan">nar.common.</span>onExtract
            <span class="apidocSignatureSpan">(it)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nar.common.onProgress">
            function <span class="apidocSignatureSpan">nar.common.</span>onProgress
            <span class="apidocSignatureSpan">(bar)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nar.common.onStart">
            function <span class="apidocSignatureSpan">nar.common.</span>onStart
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nar.common.toKb">
            function <span class="apidocSignatureSpan">nar.common.</span>toKb
            <span class="apidocSignatureSpan">(it)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nar.common.updateBar">
            function <span class="apidocSignatureSpan">nar.common.</span>updateBar
            <span class="apidocSignatureSpan">(bar)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.nar.utils">module nar.utils</a><ol>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">nar.utils.</span>isWin</span>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nar.utils.addExtension">
            function <span class="apidocSignatureSpan">nar.utils.</span>addExtension
            <span class="apidocSignatureSpan">(it)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nar.utils.archiveName">
            function <span class="apidocSignatureSpan">nar.utils.</span>archiveName
            <span class="apidocSignatureSpan">(nar)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nar.utils.checksum">
            function <span class="apidocSignatureSpan">nar.utils.</span>checksum
            <span class="apidocSignatureSpan">(file, cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nar.utils.clone">
            function <span class="apidocSignatureSpan">nar.utils.</span>clone
            <span class="apidocSignatureSpan">(obj)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nar.utils.copy">
            function <span class="apidocSignatureSpan">nar.utils.</span>copy
            <span class="apidocSignatureSpan">(file, dest, cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nar.utils.copyBinary">
            function <span class="apidocSignatureSpan">nar.utils.</span>copyBinary
            <span class="apidocSignatureSpan">(file, dest, cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nar.utils.discoverPkg">
            function <span class="apidocSignatureSpan">nar.utils.</span>discoverPkg
            <span class="apidocSignatureSpan">(dir)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nar.utils.echo">
            function <span class="apidocSignatureSpan">nar.utils.</span>echo
            <span class="apidocSignatureSpan">(it)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nar.utils.env">
            function <span class="apidocSignatureSpan">nar.utils.</span>env
            <span class="apidocSignatureSpan">(it)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nar.utils.executableMsg">
            function <span class="apidocSignatureSpan">nar.utils.</span>executableMsg
            <span class="apidocSignatureSpan">(file)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nar.utils.exists">
            function <span class="apidocSignatureSpan">nar.utils.</span>exists
            <span class="apidocSignatureSpan">(it)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nar.utils.exit">
            function <span class="apidocSignatureSpan">nar.utils.</span>exit
            <span class="apidocSignatureSpan">(code)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nar.utils.extend">
            function <span class="apidocSignatureSpan">nar.utils.</span>extend
            <span class="apidocSignatureSpan">(target)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nar.utils.handleExit">
            function <span class="apidocSignatureSpan">nar.utils.</span>handleExit
            <span class="apidocSignatureSpan">(cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nar.utils.has">
            function <span class="apidocSignatureSpan">nar.utils.</span>has
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nar.utils.httpStatus">
            function <span class="apidocSignatureSpan">nar.utils.</span>httpStatus
            <span class="apidocSignatureSpan">(code)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nar.utils.isArray">
            function <span class="apidocSignatureSpan">nar.utils.</span>isArray
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nar.utils.isDir">
            function <span class="apidocSignatureSpan">nar.utils.</span>isDir
            <span class="apidocSignatureSpan">(it)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nar.utils.isExecutable">
            function <span class="apidocSignatureSpan">nar.utils.</span>isExecutable
            <span class="apidocSignatureSpan">(path)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nar.utils.isFile">
            function <span class="apidocSignatureSpan">nar.utils.</span>isFile
            <span class="apidocSignatureSpan">(it)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nar.utils.isLink">
            function <span class="apidocSignatureSpan">nar.utils.</span>isLink
            <span class="apidocSignatureSpan">(it)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nar.utils.isObject">
            function <span class="apidocSignatureSpan">nar.utils.</span>isObject
            <span class="apidocSignatureSpan">(x)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nar.utils.isString">
            function <span class="apidocSignatureSpan">nar.utils.</span>isString
            <span class="apidocSignatureSpan">(x)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nar.utils.isUrl">
            function <span class="apidocSignatureSpan">nar.utils.</span>isUrl
            <span class="apidocSignatureSpan">(it)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nar.utils.keys">
            function <span class="apidocSignatureSpan">nar.utils.</span>keys
            <span class="apidocSignatureSpan">(it)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nar.utils.lines">
            function <span class="apidocSignatureSpan">nar.utils.</span>lines
            <span class="apidocSignatureSpan">(it)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nar.utils.logError">
            function <span class="apidocSignatureSpan">nar.utils.</span>logError
            <span class="apidocSignatureSpan">(err, debug)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nar.utils.mk">
            function <span class="apidocSignatureSpan">nar.utils.</span>mk
            <span class="apidocSignatureSpan">(p, opts, made)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nar.utils.next">
            function <span class="apidocSignatureSpan">nar.utils.</span>next
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nar.utils.now">
            function <span class="apidocSignatureSpan">nar.utils.</span>now
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nar.utils.once">
            function <span class="apidocSignatureSpan">nar.utils.</span>once
            <span class="apidocSignatureSpan">(cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nar.utils.random">
            function <span class="apidocSignatureSpan">nar.utils.</span>random
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nar.utils.read">
            function <span class="apidocSignatureSpan">nar.utils.</span>read
            <span class="apidocSignatureSpan">(it)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nar.utils.rename">
            function <span class="apidocSignatureSpan">nar.utils.</span>rename
            <span class="apidocSignatureSpan">(orig, filename, cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nar.utils.replaceEnvVars">
            function <span class="apidocSignatureSpan">nar.utils.</span>replaceEnvVars
            <span class="apidocSignatureSpan">(str)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nar.utils.resolvePkgPath">
            function <span class="apidocSignatureSpan">nar.utils.</span>resolvePkgPath
            <span class="apidocSignatureSpan">(it)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nar.utils.rm">
            function <span class="apidocSignatureSpan">nar.utils.</span>rm
            <span class="apidocSignatureSpan">(p, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nar.utils.stringify">
            function <span class="apidocSignatureSpan">nar.utils.</span>stringify
            <span class="apidocSignatureSpan">(it)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nar.utils.tmpdir">
            function <span class="apidocSignatureSpan">nar.utils.</span>tmpdir
            <span class="apidocSignatureSpan">(name)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nar.utils.toKb">
            function <span class="apidocSignatureSpan">nar.utils.</span>toKb
            <span class="apidocSignatureSpan">(it)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nar.utils.vals">
            function <span class="apidocSignatureSpan">nar.utils.</span>vals
            <span class="apidocSignatureSpan">(obj)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nar.utils.winBinaryScript">
            function <span class="apidocSignatureSpan">nar.utils.</span>winBinaryScript
            <span class="apidocSignatureSpan">(path)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nar.utils.write">
            function <span class="apidocSignatureSpan">nar.utils.</span>write
            <span class="apidocSignatureSpan">(path, data)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">nar.utils.</span>EOL</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">nar.utils.</span>arch</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">nar.utils.</span>delimiter</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">nar.utils.</span>platform</span>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.nar" id="apidoc.module.nar">module nar</a></h1>


    <h2>
        <a href="#apidoc.element.nar.create" id="apidoc.element.nar.create">
        function <span class="apidocSignatureSpan">nar.</span>create
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">create = function (options){
  var errored, emitter, pkgPath, pkg, name, tmpPath, baseDir, file, output, clean, cleanError, onError, onEntry, onEnd, doCreate
, compressAll, compressPkg, compressDependencies, e;
  errored = false;
  emitter = new EventEmitter;
  options = apply(
  options);
  pkgPath = options.path;
  if (pkgPath) {
    pkg = read(
    pkgPath);
  }
  if (pkg) {
    options = applyPkgOptions(options, pkg);
  }
  if (!pkg) {
    throw new Error(&#x27;Cannot find package.json&#x27;);
  }
  name = pkg.name || &#x27;unnamed&#x27;;
  tmpPath = tmpdir(name);
  options.base = baseDir = dirname(
  pkgPath);
  file = getFilename(options, pkg);
  output = outputFile(file, options.dest);
  clean = function(){
    emitter.emit(&#x27;message&#x27;, &#x27;Cleaning temporary directories&#x27;);
    try {
      return rm(tmpPath);
    } catch (e$) {}
  };
  cleanError = function(){
    clean();
    try {
      return rm(output);
    } catch (e$) {}
  };
  onError = once(function(err){
    cleanError();
    if (!errored) {
      emitter.emit(&#x27;error&#x27;, err);
    }
    return errored = true;
  });
  onEntry = function(it){
    if (it) {
      return emitter.emit(&#x27;entry&#x27;, it);
    }
  };
  onEnd = function(){
    clean();
    if (!errored) {
      return emitter.emit(&#x27;end&#x27;, output);
    }
  };
  doCreate = function(){
    return next(function(){
      var narConfig, deps, basePkg, all, doCompression, onCompress;
      handleExit(
      cleanError);
      narConfig = narManifest(name, pkg);
      emitter.emit(&#x27;start&#x27;, narConfig);
      emitter.emit(&#x27;info&#x27;, narConfig);
      deps = function(done){
        return compressDependencies(tmpPath, baseDir, function(err, files){
          if (err) {
            return onError(
            err);
          }
          if (files) {
            narConfig.files = narConfig.files.concat(files);
          }
          return done();
        });
      };
      basePkg = function(done){
        var config;
        config = {
          dest: tmpPath,
          base: baseDir,
          name: name,
          patterns: options.patterns
        };
        return compressPkg(config, function(it){
          narConfig.files.push(
          it);
          return done();
        });
      };
      all = function(done){
        return compressAll(narConfig, done);
      };
      doCompression = function(done){
        mk(
        tmpPath);
        return fw.series([deps, basePkg, all], done);
      };
      onCompress = function(err){
        if (err) {
          return onError(
          err);
        }
        return onEnd();
      };
      return doCompression(
      onCompress);
    });
  };
  compressAll = function(narConfig, cb){
    var config, packAll, saveConfig, exec, addBinary;
    config = {
      name: file,
      dest: options.dest,
      patterns: [&#x27;*.tar&#x27;, narFile],
      src: tmpPath,
      ext: &#x27;nar&#x27;,
      gzip: true
    };
    packAll = function(done){
      return pack(config).on(&#x27;error&#x27;, done).on(&#x27;entry&#x27;, onEntry).on(&#x27;end&#x27;, function(){
        return done();
      });
    };
    saveConfig = function(done){
      return writeConfig(narConfig, tmpPath, done);
    };
    exec = function(){
      return fw.series([saveConfig, packAll], cb);
    };
    addBinary = function(){
      var binaryPath, pkgInfo;
      binaryPath = options.binaryPath;
      if (!isFile(
      binaryPath)) {
        return onError(
        new Error(&#x22;Binary path do not exists: &#x22; + binaryPath));
      }
      pkgInfo = {
        name: &#x27;node&#x27;,
        archive: &#x27;node&#x27;,
        dest: &#x27;.node/bin&#x27;,
        type: &#x27;binary&#x27;
      };
      emitter.emit(&#x27;archive&#x27;, pkgInfo);
      return copyBinary(binaryPath, tmpPath, function(err, file){
        if (err) {
          return onError(
          new Error(&#x22;Error while copying the binary: &#x22; + err));
        }
        config.patterns.push(
        basename(
        file));
        onEntry(
        {
          name: pkgInfo.archive,
          type: pkgInfo.type,
          size: &#x27;10485760&#x27;,
          sourcePath: binaryPath
        });
        return checksum(file, function(err, hash){
          pkgInfo.checksum = hash; ...</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nar.createExec" id="apidoc.element.nar.createExec">
        function <span class="apidocSignatureSpan">nar.</span>createExec
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createExec = function (options){
  var emitter, dest, tmpPath, tmpDownload, nodeBinary, clean, onError, onDownloadError, onEntry, onEnd, onCreateEnd, onProgress,
onDownload, onDownloadEnd, getBinaryType, createExecutable;
  emitter = new EventEmitter;
  options = apply(
  options);
  dest = options.dest || process.cwd();
  tmpPath = tmpdir();
  tmpDownload = null;
  options.dest = tmpPath;
  nodeBinary = null;
  clean = function(){
    emitter.emit(&#x27;message&#x27;, &#x27;Cleaning temporary directories&#x27;);
    try {
      rm(
      tmpPath);
      if (tmpDownload) {
        return rm(
        tmpDownload);
      }
    } catch (e$) {}
  };
  onError = once(function(err){
    clean();
    return emitter.emit(&#x27;error&#x27;, err);
  });
  onDownloadError = function(err){
    return onError(
    err);
  };
  onEntry = function(it){
    if (it) {
      return emitter.emit(&#x27;entry&#x27;, it);
    }
  };
  onEnd = function(it){
    clean();
    return emitter.emit(&#x27;end&#x27;, it);
  };
  onCreateEnd = function(narPath){
    return createExecutable(
    narPath);
  };
  onProgress = function(status){
    return emitter.emit(&#x27;progress&#x27;, status);
  };
  onDownload = function(){
    return emitter.emit(
    &#x27;download&#x27;);
  };
  onDownloadEnd = function(it){
    return emitter.emit(&#x27;downloadEnd&#x27;, it);
  };
  getBinaryType = function(){
    var os, arch;
    os = options.os, arch = options.arch;
    return os + &#x22;-&#x22; + arch;
  };
  createExecutable = function(nar){
    var narFile, narPath, narOutput, cleanExec, copyNodeBinary, copyDirectory, copyNarPkg, createTarball, createBinary, generate
, extractBinary, getDownloadUrl, downloadBinary;
    narFile = basename(nar, &#x27;.nar&#x27;);
    narPath = join(dest, narFile) + &#x27;.run&#x27;;
    narOutput = join(dest, narFile) + (&#x22;-&#x22; + getBinaryType() + &#x22;.nar&#x22;);
    cleanExec = function(){
      rm(
      narPath);
      return clean();
    };
    copyNodeBinary = function(done){
      var binDir;
      binDir = join(tmpPath, &#x27;bin&#x27;);
      mk(
      binDir);
      return copyBinary(nodeBinary || process.execPath, binDir, done);
    };
    copyDirectory = function(dest){
      return function(dir, next){
        var name, orig, pkgDest;
        name = basename(
        dir);
        orig = join(dest, name);
        pkgDest = join(dest, name);
        return fs.exists(orig, function(exists){
          if (exists) {
            return next();
          }
          return fs.exists(pkgDest, function(exists){
            if (exists) {
              return next();
            }
            mk(
            pkgDest);
            return ncp(dir, pkgDest, copyOpts, next);
          });
        });
      };
    };
    copyNarPkg = function(done){
      var narDest, narPath, narManifest, doCopy;
      narDest = join(tmpPath, &#x27;nar&#x27;);
      narPath = join(__dirname, &#x27;..&#x27;);
      narManifest = require(join(narPath, &#x27;package.json&#x27;));
      doCopy = function(paths, done){
        return ncp(narPath, narDest, copyOpts, function(err){
          var depsDest;
          if (err) {
            return done(
            err);
          }
          depsDest = join(narDest, &#x27;node_modules&#x27;);
          return fw.each(paths, copyDirectory(
          depsDest), done);
        });
      };
      return resolveTree.manifest(narManifest, {
        basedir: narPath
      }, function(err, tree){
        var paths, rootPaths, parentPaths;
        if (err) {
          return cb(err);
        }
        paths = arrayUnique(
        resolveTree.flattenMap(tree, &#x27;root&#x27;));
        rootPaths = paths.filter(function(it){
          return join(options.base, &#x27;node_modules&#x27;, basename(it)) === it;
        });
        parentPaths = arrayUnique(
        paths.filter(function(it){
          return rootPaths.indexOf(
          it) === -1;
        }).filter(function(it){
          return new RegExp(&#x22;^&#x22; + narPath).test(it) === false;
        }).map(function(it){
          return relative(join(options.base, &#x27;node_modules&#x27;), it).split(&#x27;/&#x27;).shift();
        }).map(function(it){
          return join(options.base, &#x27;node_modules&#x27;, it);
        }).filter(function(it){
          return rootPaths.indexOf( ...</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nar.download" id="apidoc.element.nar.download">
        function <span class="apidocSignatureSpan">nar.</span>download
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">download = function (options){
  var ref$, url, dest, filename, auth, emitter, output, errored, createDest, clean, onError, onDownload, onEnd, onProgress, handler
, doDownload, e;
  ref$ = options = apply(
  options), url = ref$.url, dest = ref$.dest, filename = ref$.filename, auth = ref$.auth;
  emitter = new EventEmitter;
  output = join(dest, filename);
  errored = false;
  createDest = function(){
    if (!exists(
    dest)) {
      return mk(dest);
    }
  };
  clean = function(){
    try {
      return rm(output);
    } catch (e$) {}
  };
  onError = once(function(err, code){
    errored = true;
    clean();
    if (err) {
      return emitter.emit(&#x27;error&#x27;, err, code);
    }
  });
  onDownload = function(){
    return emitter.emit(
    &#x27;download&#x27;);
  };
  onEnd = once(function(){
    if (!errored) {
      return emitter.emit(&#x27;end&#x27;, output);
    }
  });
  onProgress = function(it){
    return emitter.emit(&#x27;progress&#x27;, it);
  };
  handler = function(err, res, data){
    if (err) {
      return onError(
      err);
    } else if (res.statusCode &#x3e;= 400) {
      return onError(new Error(&#x22;Invalid response code: &#x22; + httpStatus(res.statusCode)), res.statusCode);
    } else if (!data) {
      return onError(
      new Error(&#x27;Empty response&#x27;));
    }
  };
  doDownload = function(){
    return next(function(){
      var stream, http;
      onDownload();
      createDest();
      stream = fs.createWriteStream(
      output);
      stream.on(&#x27;error&#x27;, onError);
      http = request(options, handler);
      http.on(&#x27;error&#x27;, onError);
      return progress(http).on(&#x27;progress&#x27;, onProgress).pipe(stream).on(&#x27;close&#x27;, onEnd);
    });
  };
  try {
    doDownload();
  } catch (e$) {
    e = e$;
    onError(
    e);
  }
  return emitter;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nar.extract" id="apidoc.element.nar.extract">
        function <span class="apidocSignatureSpan">nar.</span>extract
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">extract = function (options){
  var ref$, path, dest, tmpdir, emitter, errored, clean, cleanError, onEnd, onEntry, onMsg, onError, extractor, extractorFn, copyBinFn
, createSymlinks, getExtractFiles, extractArchives, copyNarJson, setExecutionPerms, extractNar, extractTasks, doExtract, e;
  options == null &#x26;&#x26; (options = {});
  ref$ = options = apply(
  options), path = ref$.path, dest = ref$.dest, tmpdir = ref$.tmpdir;
  emitter = new EventEmitter;
  errored = false;
  clean = function(){
    try {
      return rm(tmpdir);
    } catch (e$) {}
  };
  cleanError = function(){
    clean();
    try {
      if (dest !== process.cwd()) {
        return rm(dest);
      }
    } catch (e$) {}
  };
  onEnd = function(){
    clean();
    if (!errored) {
      return emitter.emit(&#x27;end&#x27;, options);
    }
  };
  onEntry = function(entry){
    if (entry) {
      return emitter.emit(&#x27;entry&#x27;, entry);
    }
  };
  onMsg = function(msg){
    if (msg) {
      return emitter.emit(&#x27;message&#x27;, msg);
    }
  };
  onError = function(err){
    cleanError();
    if (!errored) {
      emitter.emit(&#x27;error&#x27;, err);
    }
    return errored = true;
  };
  extractor = function(options, type){
    return function(done){
      var path, dest, createLink, processGlobalBinaries, extractEnd;
      path = options.path, dest = options.dest;
      if (/\/@[a-z0-9]+\//i.test(path)) {
        path = path.replace(/@[a-z0-9]+\//i, &#x27;&#x27;);
      }
      if (!isFile(
      path)) {
        return onError(
        new Error(&#x27;The given path is not a file&#x27;));
      }
      if (isExecutable(
      path)) {
        return onError(
        executableMsg(
        path));
      }
      createLink = function(name, path){
        var binPath, root, binDir, binFile;
        binPath = join(dest, path);
        if (isFile(
        binPath)) {
          if (root = findup(&#x27;package.json&#x27;, {
            cwd: dirname(
            binPath)
          })) {
            binDir = join(dirname(
            root), &#x27;../../../&#x27;, &#x27;bin&#x27;);
            binFile = join(binDir, name);
            if (!isDir(
            binDir)) {
              mk(binDir);
            }
            if (isWin) {
              return write(binFile + &#x22;.cmd&#x22;, winBinaryScript(
              binPath));
            } else {
              return symlinkSync(binPath, binFile);
            }
          }
        }
      };
      processGlobalBinaries = function(pkg){
        var bin, name, path, own$ = {}.hasOwnProperty, results$ = [];
        bin = pkg.bin;
        if (isString(
        bin)) {
          return createLink(pkg.name, bin);
        } else if (isObject(
        bin)) {
          for (name in bin) if (own$.call(bin, name)) {
            path = bin[name];
            if (path) {
              results$.push(createLink(name, path));
            }
          }
          return results$;
        }
      };
      extractEnd = function(){
        var pkg;
        if (type === &#x27;global-dependency&#x27;) {
          pkg = read(
          join(dest, &#x27;package.json&#x27;));
          if (pkg) {
            processGlobalBinaries(
            pkg);
          }
        }
        return done();
      };
      return function(){
        if (!isDir(
        dest)) {
          mk(
          dest);
        }
        return unpack(
        options).on(&#x27;error&#x27;, onError).on(&#x27;entry&#x27;, onEntry).on(&#x27;end&#x27;, extractEnd);
      }();
    };
  };
  extractorFn = function(it){
    var options;
    options = {
      gzip: false,
      path: join(tmpdir, it.archive),
      dest: normalizePath(
      join(dest, it.dest)),
      checksum: it.checksum
    };
    return extractor(options, it.type);
  };
  copyBinFn = function(options){
    return function(done){
      var origin, target;
      origin = join(tmpdir, options.archive);
      target = normalizePath(
      join(dest, options.dest));
      if (!isDir(
      target)) {
        mk(target);
      }
      return copy(origin, target, done);
    };
  };
  createSymlinks = function(files){
    return function(done){
      var links, base, cwd, name, link, own$ = {}.hasOwnProperty;
      links = files.links;
      base = join(de ...</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nar.get" id="apidoc.element.nar.get">
        function <span class="apidocSignatureSpan">nar.</span>get
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">get = function (options){
  var ref$, url, dest, filename, auth, emitter, output, errored, createDest, clean, onError, onDownload, onEnd, onProgress, handler
, doDownload, e;
  ref$ = options = apply(
  options), url = ref$.url, dest = ref$.dest, filename = ref$.filename, auth = ref$.auth;
  emitter = new EventEmitter;
  output = join(dest, filename);
  errored = false;
  createDest = function(){
    if (!exists(
    dest)) {
      return mk(dest);
    }
  };
  clean = function(){
    try {
      return rm(output);
    } catch (e$) {}
  };
  onError = once(function(err, code){
    errored = true;
    clean();
    if (err) {
      return emitter.emit(&#x27;error&#x27;, err, code);
    }
  });
  onDownload = function(){
    return emitter.emit(
    &#x27;download&#x27;);
  };
  onEnd = once(function(){
    if (!errored) {
      return emitter.emit(&#x27;end&#x27;, output);
    }
  });
  onProgress = function(it){
    return emitter.emit(&#x27;progress&#x27;, it);
  };
  handler = function(err, res, data){
    if (err) {
      return onError(
      err);
    } else if (res.statusCode &#x3e;= 400) {
      return onError(new Error(&#x22;Invalid response code: &#x22; + httpStatus(res.statusCode)), res.statusCode);
    } else if (!data) {
      return onError(
      new Error(&#x27;Empty response&#x27;));
    }
  };
  doDownload = function(){
    return next(function(){
      var stream, http;
      onDownload();
      createDest();
      stream = fs.createWriteStream(
      output);
      stream.on(&#x27;error&#x27;, onError);
      http = request(options, handler);
      http.on(&#x27;error&#x27;, onError);
      return progress(http).on(&#x27;progress&#x27;, onProgress).pipe(stream).on(&#x27;close&#x27;, onEnd);
    });
  };
  try {
    doDownload();
  } catch (e$) {
    e = e$;
    onError(
    e);
  }
  return emitter;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  updateBar(
  bar)(
  bar.total);
  return echo(
  &#x22;\nDownloaded in: &#x22; + it);
};
download = function(){
  return nar.<span class="apidocCodeKeywordSpan">get</span>(opts).on(&#x27;download&#x27;, onDownload).on(&#x27;progress&#x27;,
onProgress(
  bar)).on(&#x27;error&#x27;, onError(
  debug)).on(&#x27;end&#x27;, onEnd);
};
try {
  return download();
} catch (e$) {
  e = e$;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nar.install" id="apidoc.element.nar.install">
        function <span class="apidocSignatureSpan">nar.</span>install
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">install = function (options){
  var ref$, path, url, dest, clean, global, emitter, output, pkgInfo, tmp, cleanDir, onError, onEntry, onDownload, onProgress, onArchive
, onDownloadEnd, onEnd, onExtract, getInstallPath, copy, createBinDir, setExecutionPerms, createLink, createBinary, processBinaries
, extractor, downloader, doInstall, e;
  ref$ = options = apply(
  options), path = ref$.path, url = ref$.url, dest = ref$.dest, clean = ref$.clean, global = ref$.global;
  emitter = new EventEmitter;
  output = null;
  pkgInfo = {};
  tmp = tmpdir(
  path);
  cleanDir = function(){
    try {
      if (isDir(
      tmp)) {
        rm(tmp);
      }
      if (clean &#x26;&#x26; output) {
        return rm(output);
      }
    } catch (e$) {}
  };
  onError = function(err, code, cmd){
    cleanDir();
    return emitter.emit(&#x27;error&#x27;, err, code, cmd);
  };
  onEntry = function(entry){
    if (entry) {
      return emitter.emit(&#x27;entry&#x27;, entry);
    }
  };
  onDownload = function(){
    return emitter.emit(&#x27;download&#x27;);
  };
  onProgress = function(it){
    return emitter.emit(&#x27;progress&#x27;, it);
  };
  onArchive = function(it){
    pkgInfo = it;
    return emitter.emit(&#x27;archive&#x27;, it);
  };
  onDownloadEnd = function(it){
    return emitter.emit(&#x27;downloadEnd&#x27;, it);
  };
  onEnd = function(output){
    save(
    options);
    cleanDir();
    return emitter.emit(&#x27;end&#x27;, output, options);
  };
  onExtract = function(it){
    if (options.dest === tmp) {
      return copy();
    } else {
      return onEnd(
      it);
    }
  };
  getInstallPath = function(){
    var dest;
    if (global) {
      dest = resolve(&#x27;npm&#x27;);
      if (dest) {
        return dest = join(dest, &#x27;../../../&#x27;, pkgInfo.name || &#x27;pkg&#x27;);
      } else {
        return onError(
        new Error(&#x27;Cannot resolve global installation path&#x27;));
      }
    } else {
      return dest = join(process.cwd(), &#x27;node_modules&#x27;, pkgInfo.name || &#x27;pkg&#x27;);
    }
  };
  copy = function(){
    var dest;
    dest = getInstallPath();
    if (!isDir(
    dest)) {
      mk(dest);
    }
    return ncp(tmp, dest, function(err){
      if (err) {
        return onError(
        err);
      }
      processBinaries(
      dest);
      return onEnd(
      {
        dest: dest
      });
    });
  };
  createBinDir = function(dir){
    if (!isDir(
    dir)) {
      return mk(dir);
    }
  };
  setExecutionPerms = function(file){
    try {
      return chmodSync(file, &#x27;775&#x27;);
    } catch (e$) {}
  };
  createLink = function(binPath, dest){
    if (isWin) {
      return write(dest + &#x22;.cmd&#x22;, winBinaryScript(
      binPath));
    } else {
      symlinkSync(binPath, dest);
      return setExecutionPerms(
      dest);
    }
  };
  createBinary = function(dest, path, name){
    var binPath, root;
    binPath = join(dest, path);
    if (isFile(
    binPath)) {
      if (global) {
        root = join(dest, &#x27;../../../&#x27;, &#x27;bin&#x27;);
        createBinDir(root);
        return createLink(binPath, join(root, name));
      } else {
        root = join(dest, &#x27;../&#x27;, &#x27;.bin&#x27;);
        createBinDir(root);
        return createLink(binPath, join(root, name));
      }
    }
  };
  processBinaries = function(dest){
    var pkg, bin, name, path, own$ = {}.hasOwnProperty, results$ = [];
    pkg = join(dest, &#x27;package.json&#x27;);
    if (isFile(
    pkg)) {
      bin = (pkg = read(
      pkg)).bin;
      if (isString(
      bin)) {
        return createBinary(dest, bin, pkg.name);
      } else if (isObject(
      bin)) {
        for (name in bin) if (own$.call(bin, name)) {
          path = bin[name];
          if (path) {
            results$.push(createBinary(dest, path, name));
          }
        }
        return results$;
      }
    }
  };
  extractor = function(path){
    emitter.emit(
    &#x27;start&#x27;);
    options.path = path;
    options.dest || (options.dest = tmp);
    return extract(
    options).on(&#x27;error&#x27;, onError).on(&#x27;entry&#x27;, onEntry).on(&#x27;archive&#x27;, onArchive).on(&#x27;end&#x27;, onExtract);
  };
  downloader = function(){
    if (!url) {
      options.url = path;
    }
    return download(
    options).on(&#x27;download&#x27;, onDownload).on(&#x27;progress&#x27;, onProgress).on(&#x27;erro ...</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nar.list" id="apidoc.element.nar.list">
        function <span class="apidocSignatureSpan">nar.</span>list
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">list = function (options){
  var ref$, path, gzip, emitter, ended, error, files, onError, onEnd, onEntry, onListener, parse;
  ref$ = apply(
  options), path = ref$.path, gzip = ref$.gzip;
  emitter = new EventEmitter;
  ended = false;
  error = false;
  files = [];
  onError = function(err){
    error = err;
    return emitter.emit(&#x27;error&#x27;, err);
  };
  onEnd = function(){
    ended = true;
    return emitter.emit(&#x27;end&#x27;, files);
  };
  onEntry = function(entry){
    files.push(
    entry);
    return emitter.emit(&#x27;entry&#x27;, entry);
  };
  onListener = function(name, fn){
    switch (name) {
    case &#x27;error&#x27;:
      if (error) {
        return fn(
        error);
      }
      break;
    case &#x27;end&#x27;:
      if (ended) {
        return fn(
        files);
      }
    }
  };
  parse = function(){
    return next(function(){
      var nar, entries, entryReader, emitEntries, parse, stream;
      nar = null;
      entries = {};
      if (!isFile(
      path)) {
        return onError(
        new Error(&#x27;The given path is not a file&#x27;));
      }
      if (isExecutable(
      path)) {
        return onError(
        executableMsg(
        path));
      }
      entryReader = function(entry){
        var data;
        data = &#x27;&#x27;;
        if (/\.nar\.json$/.test(entry.path)) {
          entry.on(&#x27;data&#x27;, function(it){
            return data += it.toString();
          });
          return entry.on(&#x27;end&#x27;, function(){
            return nar = JSON.parse(
            data);
          });
        } else {
          return entries[entry.path] = entry, entries;
        }
      };
      emitEntries = function(){
        emitter.emit(&#x27;info&#x27;, nar);
        return nar.files.forEach(function(file){
          return onEntry(
          {
            archive: file.archive,
            type: file.type,
            dest: file.dest,
            size: entries[file.archive] ? entries[file.archive].size : void 8,
            props: entries[file.archive] ? entries[file.archive].props : void 8
          });
        });
      };
      parse = tar.Parse();
      parse.on(&#x27;error&#x27;, onError);
      parse.on(&#x27;entry&#x27;, entryReader);
      parse.on(&#x27;end&#x27;, function(){
        if (!nar) {
          return onError(
          new Error(&#x27;Invalid nar file&#x27;));
        }
        emitEntries();
        return onEnd();
      });
      stream = fs.createReadStream(
      path);
      stream.on(&#x27;error&#x27;, onError);
      if (gzip) {
        stream = stream.pipe(createGunzip());
      }
      return stream.pipe(parse);
    });
  };
  emitter.on(&#x27;newListener&#x27;, onListener);
  parse();
  return emitter;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nar.run" id="apidoc.element.nar.run">
        function <span class="apidocSignatureSpan">nar.</span>run
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">run = function (options){
  var ref$, path, hooks, args, dest, clean, emitter, cleanDir, onError, onEntry, onArchive, onProgress, onDownloadEnd, onEnd, onDownload
, hooksFn, appRunner, extractArchive, downloadArchive, doExtract, e;
  ref$ = options = apply(
  options), path = ref$.path, hooks = ref$.hooks, args = ref$.args, dest = ref$.dest, clean = ref$.clean;
  emitter = new EventEmitter;
  cleanDir = function(){
    try {
      if (clean) {
        return rm(dest);
      }
    } catch (e$) {}
  };
  onError = function(err, code, cmd){
    cleanDir();
    return emitter.emit(&#x27;error&#x27;, err, code, cmd);
  };
  onEntry = function(entry){
    if (entry) {
      return emitter.emit(&#x27;entry&#x27;, entry);
    }
  };
  onArchive = function(archive){
    if (archive) {
      return emitter.emit(&#x27;archive&#x27;, archive);
    }
  };
  onProgress = function(status){
    return emitter.emit(&#x27;progress&#x27;, status);
  };
  onDownloadEnd = function(it){
    return emitter.emit(&#x27;downloadEnd&#x27;, it);
  };
  onEnd = function(options, nar){
    cleanDir();
    return emitter.emit(&#x27;end&#x27;, options, nar);
  };
  onDownload = function(){
    return emitter.emit(
    &#x27;download&#x27;);
  };
  hooksFn = function(nar){
    var buf, addHookFn, addStartMainScript, hook, ref$, cmd, own$ = {}.hasOwnProperty;
    buf = [];
    addHookFn = function(cmd, hook){
      if (args &#x26;&#x26; has(args, hook) &#x26;&#x26; args[hook]) {
        cmd += &#x27; &#x27; + parseFlags(
        isArray(
        args[hook])
          ? args[hook].join(&#x27; &#x27;)
          : args[hook]);
      }
      return buf.push(
      exec(emitter, cmd, dest, hook));
    };
    addStartMainScript = function(){
      if (nar.manifest.main) {
        return buf.push(
        exec(emitter, &#x22;node &#x22; + (nar.manifest.main || &#x27;&#x27;), dest, &#x27;start&#x27;));
      }
    };
    for (hook in ref$ = getHooks(nar, args)) if (own$.call(ref$, hook)) {
      cmd = ref$[hook];
      if (hooks || (!hooks &#x26;&#x26; hook === &#x27;start&#x27;)) {
        addHookFn(cmd, hook);
      }
    }
    if (!buf.length) {
      addStartMainScript();
    }
    return buf;
  };
  appRunner = function(options){
    var nar;
    nar = readNarJson(
    dest);
    emitter.emit(&#x27;info&#x27;, nar);
    setEnvironment(dest, nar.manifest);
    if (nar.binary) {
      extendPath(
      dest);
      if (!isBinaryValid(
      nar)) {
        return onError(
        new Error(&#x27;Unsupported binary platform or processor&#x27;));
      }
    }
    return fw.series(hooksFn(
    nar), function(err){
      if (err) {
        return onError(
        err);
      }
      return onEnd(options, nar);
    });
  };
  extractArchive = function(){
    emitter.emit(
    &#x27;extract&#x27;);
    return extract(
    options).on(&#x27;error&#x27;, onError).on(&#x27;entry&#x27;, onEntry).on(&#x27;archive&#x27;, onArchive).on(&#x27;end&#x27;, appRunner);
  };
  downloadArchive = function(){
    options.url = path;
    return download(
    options).on(&#x27;download&#x27;, onDownload).on(&#x27;error&#x27;, onError).on(&#x27;progress&#x27;, onProgress).on(&#x27;end&#x27;, function(it){
      options.path = it;
      onDownloadEnd(
      it);
      return extractArchive();
    });
  };
  doExtract = function(){
    return next(function(){
      if (!path) {
        return onError(
        new Error(&#x27;Required archive path option&#x27;));
      }
      handleExit(
      cleanDir);
      if (isUrl(
      path)) {
        return downloadArchive();
      } else {
        return extractArchive();
      }
    });
  };
  try {
    doExtract();
  } catch (e$) {
    e = e$;
    onError(
    &#x22;Cannot run the archive: &#x22; + e);
  }
  return emitter;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>










</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.nar.cli" id="apidoc.module.nar.cli">module nar.cli</a></h1>


    <h2>
        <a href="#apidoc.element.nar.cli.parse" id="apidoc.element.nar.cli.parse">
        function <span class="apidocSignatureSpan">nar.cli.</span>parse
        <span class="apidocSignatureSpan">(it)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parse = function (it){
  return program.parse(
  map(
  it));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
g: &#x27;get&#x27;,
start: &#x27;run&#x27;,
build: &#x27;create&#x27;,
download: &#x27;get&#x27;,
show: &#x27;list&#x27;
};
module.exports.parse = function(it){
return program.<span class="apidocCodeKeywordSpan">parse</span>(
map(
it));
};
program.version(nar.VERSION);
program.command(&#x27;help&#x27;).action(function(){
return help(
echo());
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.nar.common" id="apidoc.module.nar.common">module nar.common</a></h1>


    <h2>
        <a href="#apidoc.element.nar.common.archiveName" id="apidoc.element.nar.common.archiveName">
        function <span class="apidocSignatureSpan">nar.common.</span>archiveName
        <span class="apidocSignatureSpan">(nar)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">archiveName = function (nar){
  var name, version;
  name = &#x27;&#x27;;
  if (nar) {
    name += nar.name || &#x27;unnamed&#x27;;
    if (version = nar.manifest.version) {
      name += &#x22;-&#x22; + version;
    }
    if (nar.binary) {
      name += &#x22;-&#x22; + platform + &#x22;-&#x22; + arch;
    }
  }
  return name + &#x22;.nar&#x22;;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nar.common.createBar" id="apidoc.element.nar.common.createBar">
        function <span class="apidocSignatureSpan">nar.common.</span>createBar
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createBar = function (){
  return new progress(&#x27;[:bar] :percent :etas&#x27;, {
    total: 1,
    width: 30
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nar.common.echo" id="apidoc.element.nar.common.echo">
        function <span class="apidocSignatureSpan">nar.common.</span>echo
        <span class="apidocSignatureSpan">(it)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">echo = function (it){
  if (it) {
    return console.log.apply(this, arguments);
  } else {
    return console.log(&#x27;&#x27;);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    code);
  }
  return function(message){
    if (message != null) {
      if (String.prototype.red != null) {
        message = message.red;
      }
      _.<span class="apidocCodeKeywordSpan">echo</span>(
      message);
    }
    return exit(
    code);
  };
},
read: function(it){
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nar.common.exit" id="apidoc.element.nar.common.exit">
        function <span class="apidocSignatureSpan">nar.common.</span>exit
        <span class="apidocSignatureSpan">(code)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">exit = function (code){
  if (code === 0 || !code) {
    exit(
    code);
  }
  return function(message){
    if (message != null) {
      if (String.prototype.red != null) {
        message = message.red;
      }
      _.echo(
      message);
    }
    return exit(
    code);
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nar.common.extend" id="apidoc.element.nar.common.extend">
        function <span class="apidocSignatureSpan">nar.common.</span>extend
        <span class="apidocSignatureSpan">(target)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function extend(target) {
    var origins = Array.prototype.slice.call(arguments, 1);
    var obj = isObject(target) ? target : {};
    origins.reduce(function (origin, o, index) {
        isObject(origin) ? keys(origin).forEach(function (name) {
            return obj[name] = origin[name];
        }) : void 0;
        return origins[index + 1];
    }, origins[0]);
    return obj;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nar.common.isUrl" id="apidoc.element.nar.common.isUrl">
        function <span class="apidocSignatureSpan">nar.common.</span>isUrl
        <span class="apidocSignatureSpan">(it)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isUrl = function (it){
  return /^http[s]?\:/.test(
  it);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
tmpdir: function(name){
  name == null &#x26;&#x26; (name = &#x27;pkg&#x27;);
  name = basename(name, extname(
  name));
  return join(os.tmpdir(), &#x22;nar-&#x22; + name + &#x22;-&#x22; + _.random());
},
addExtension: function(it){
  if (it &#x26;&#x26; !_.<span class="apidocCodeKeywordSpan">isUrl</span>(
  it)) {
    if (!/.nar$/.test(it)) {
      it += &#x27;.nar&#x27;;
    }
  }
  return it;
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nar.common.onArchive" id="apidoc.element.nar.common.onArchive">
        function <span class="apidocSignatureSpan">nar.common.</span>onArchive
        <span class="apidocSignatureSpan">(debug, verbose)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onArchive = function (debug, verbose){
  return function(it){
    if (!(debug &#x26;&#x26; verbose)) {
      return echo(
      &#x22;Extract [&#x22; + it.type.cyan + &#x22;] &#x22; + (it.name || &#x27;&#x27;));
    }
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nar.common.onDownload" id="apidoc.element.nar.common.onDownload">
        function <span class="apidocSignatureSpan">nar.common.</span>onDownload
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onDownload = function (){
  return echo(
  &#x27;Downloading archive...&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nar.common.onDownloadEnd" id="apidoc.element.nar.common.onDownloadEnd">
        function <span class="apidocSignatureSpan">nar.common.</span>onDownloadEnd
        <span class="apidocSignatureSpan">(bar)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onDownloadEnd = function (bar){
  return function(){
    return echo(
    common.updateBar(
    bar)(
    bar.total));
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nar.common.onEntry" id="apidoc.element.nar.common.onEntry">
        function <span class="apidocSignatureSpan">nar.common.</span>onEntry
        <span class="apidocSignatureSpan">(action)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onEntry = function (action){
  return function(it){
    return echo(
    (action + &#x22; [&#x22;).green + (toKb(
    it.size) + &#x22; KB&#x22;).cyan + (&#x22;] &#x22; + (it.path || it.name || &#x27;&#x27;)).green);
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nar.common.onError" id="apidoc.element.nar.common.onError">
        function <span class="apidocSignatureSpan">nar.common.</span>onError
        <span class="apidocSignatureSpan">(debug)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onError = function (debug){
  return function(err, code){
    echo(
    logError(err, debug));
    return exit(
    code || 1)();
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nar.common.onExtract" id="apidoc.element.nar.common.onExtract">
        function <span class="apidocSignatureSpan">nar.common.</span>onExtract
        <span class="apidocSignatureSpan">(it)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onExtract = function (it){
  return echo(
  &#x22;Extract [&#x22; + it.type.cyan + &#x22;] &#x22; + (it.name || &#x27;&#x27;));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nar.common.onProgress" id="apidoc.element.nar.common.onProgress">
        function <span class="apidocSignatureSpan">nar.common.</span>onProgress
        <span class="apidocSignatureSpan">(bar)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onProgress = function (bar){
  return function(state){
    if (bar.total === 1) {
      bar.total = state.total;
      return bar.start = new Date(), bar;
    } else {
      return common.updateBar(bar)(
      state.received);
    }
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nar.common.onStart" id="apidoc.element.nar.common.onStart">
        function <span class="apidocSignatureSpan">nar.common.</span>onStart
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onStart = function (){
  return echo(
  &#x22;Reading archive...&#x22;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nar.common.toKb" id="apidoc.element.nar.common.toKb">
        function <span class="apidocSignatureSpan">nar.common.</span>toKb
        <span class="apidocSignatureSpan">(it)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toKb = function (it){
  if (it) {
    return Math.round(it / 1024) || 1;
  } else {
    return 0;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nar.common.updateBar" id="apidoc.element.nar.common.updateBar">
        function <span class="apidocSignatureSpan">nar.common.</span>updateBar
        <span class="apidocSignatureSpan">(bar)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">updateBar = function (bar){
  return function(value){
    bar.curr = value;
    try {
      return bar.render();
    } catch (e$) {}
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
},
onProgress: function(bar){
  return function(state){
    if (bar.total === 1) {
      bar.total = state.total;
      return bar.start = new Date(), bar;
    } else {
      return common.<span class="apidocCodeKeywordSpan">updateBar</span>(bar)(
      state.received);
    }
  };
},
onEntry: function(action){
  return function(it){
    return echo(
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.nar.utils" id="apidoc.module.nar.utils">module nar.utils</a></h1>




    <h2>
        <a href="#apidoc.element.nar.utils.addExtension" id="apidoc.element.nar.utils.addExtension">
        function <span class="apidocSignatureSpan">nar.utils.</span>addExtension
        <span class="apidocSignatureSpan">(it)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">addExtension = function (it){
  if (it &#x26;&#x26; !_.isUrl(
  it)) {
    if (!/.nar$/.test(it)) {
      it += &#x27;.nar&#x27;;
    }
  }
  return it;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nar.utils.archiveName" id="apidoc.element.nar.utils.archiveName">
        function <span class="apidocSignatureSpan">nar.utils.</span>archiveName
        <span class="apidocSignatureSpan">(nar)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">archiveName = function (nar){
  var name, version;
  name = &#x27;&#x27;;
  if (nar) {
    name += nar.name || &#x27;unnamed&#x27;;
    if (version = nar.manifest.version) {
      name += &#x22;-&#x22; + version;
    }
    if (nar.binary) {
      name += &#x22;-&#x22; + platform + &#x22;-&#x22; + arch;
    }
  }
  return name + &#x22;.nar&#x22;;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nar.utils.checksum" id="apidoc.element.nar.utils.checksum">
        function <span class="apidocSignatureSpan">nar.utils.</span>checksum
        <span class="apidocSignatureSpan">(file, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">checksum = function (file, cb){
  var hash;
  hash = crypto.createHash(&#x27;sha1&#x27;);
  return fs.createReadStream(
  file).on(&#x27;data&#x27;, (function(it){
    return hash.update(it);
  })).on(&#x27;end&#x27;, function(){
    return cb(null, hash.digest(&#x27;hex&#x27;));
  }).on(&#x27;error&#x27;, cb);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  extract = tar.Extract({
    path: dest
  });
  extract.on(&#x27;entry&#x27;, onEntry);
  return stream.pipe(extract).on(&#x27;error&#x27;, onError).on(&#x27;end&#x27;, onEnd);
};
calculateChecksum = function(hash, file, cb){
  return _.<span class="apidocCodeKeywordSpan">checksum</span>(file, function(err, nhash){
    if (err) {
      return onError(
      err);
    }
    if (hash === nhash) {
      return cb();
    } else {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nar.utils.clone" id="apidoc.element.nar.utils.clone">
        function <span class="apidocSignatureSpan">nar.utils.</span>clone
        <span class="apidocSignatureSpan">(obj)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function clone(obj) {
    return isArray(obj) ? obj.slice() : isObject(obj) ? extend({}, obj) : isDate(obj) ? new Date(obj.getTime()) : obj;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nar.utils.copy" id="apidoc.element.nar.utils.copy">
        function <span class="apidocSignatureSpan">nar.utils.</span>copy
        <span class="apidocSignatureSpan">(file, dest, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">copy = function (file, dest, cb){
  var filename;
  filename = basename(
  file);
  dest = join(dest, filename);
  return fs.createReadStream(
  file).pipe(fs.createWriteStream(dest)).on(&#x27;close&#x27;, function(){
    return cb(null, dest);
  }).on(&#x27;error&#x27;, cb);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  dest = join(dest, filename);
  return fs.createReadStream(
  file).pipe(fs.createWriteStream(dest)).on(&#x27;close&#x27;, function(){
    return cb(null, dest);
  }).on(&#x27;error&#x27;, cb);
},
copyBinary: function(file, dest, cb){
  return _.<span class="apidocCodeKeywordSpan">copy</span>(file, dest, function(err, output){
    var name;
    if (err) {
      return cb(
      err);
    }
    if ((name = basename(
    file)) !== &#x27;node&#x27;) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nar.utils.copyBinary" id="apidoc.element.nar.utils.copyBinary">
        function <span class="apidocSignatureSpan">nar.utils.</span>copyBinary
        <span class="apidocSignatureSpan">(file, dest, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">copyBinary = function (file, dest, cb){
  return _.copy(file, dest, function(err, output){
    var name;
    if (err) {
      return cb(
      err);
    }
    if ((name = basename(
    file)) !== &#x27;node&#x27;) {
      return _.rename(output = join(dirname(
      output), name), &#x27;node&#x27;, function(err){
        if (err) {
          return cb(
          err);
        }
        return cb(null, output);
      });
    } else {
      return cb(null, output);
    }
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nar.utils.discoverPkg" id="apidoc.element.nar.utils.discoverPkg">
        function <span class="apidocSignatureSpan">nar.utils.</span>discoverPkg
        <span class="apidocSignatureSpan">(dir)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">discoverPkg = function (dir){
  dir == null &#x26;&#x26; (dir = process.cwd());
  return findup(&#x27;package.json&#x27;, {
    cwd: dir
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nar.utils.echo" id="apidoc.element.nar.utils.echo">
        function <span class="apidocSignatureSpan">nar.utils.</span>echo
        <span class="apidocSignatureSpan">(it)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">echo = function (it){
  if (it) {
    return console.log.apply(this, arguments);
  } else {
    return console.log(&#x27;&#x27;);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    code);
  }
  return function(message){
    if (message != null) {
      if (String.prototype.red != null) {
        message = message.red;
      }
      _.<span class="apidocCodeKeywordSpan">echo</span>(
      message);
    }
    return exit(
    code);
  };
},
read: function(it){
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nar.utils.env" id="apidoc.element.nar.utils.env">
        function <span class="apidocSignatureSpan">nar.utils.</span>env
        <span class="apidocSignatureSpan">(it)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">env = function (it){
  return env[it] || null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nar.utils.executableMsg" id="apidoc.element.nar.utils.executableMsg">
        function <span class="apidocSignatureSpan">nar.utils.</span>executableMsg
        <span class="apidocSignatureSpan">(file)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">executableMsg = function (file){
  file = basename(
  file || &#x27;sample.nar&#x27;);
  if (_.isWin) {
    return &#x22;the nar file is an executable, you cannot run it in Windows&#x22;;
  } else {
    return &#x22;the nar file is an executable, you must run it as binary:\n\n  Example:\n  $ chmod +x &#x22; + file + &#x22;\n  $ ./&#x22; + file + &#x22;
exec --port 8080 --verbose\n\nYou could use the exec, start, extract, install or list commands\nFor more usage information, see the docs at github.com/h2non/nar&#x22;;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nar.utils.exists" id="apidoc.element.nar.utils.exists">
        function <span class="apidocSignatureSpan">nar.utils.</span>exists
        <span class="apidocSignatureSpan">(it)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">exists = function (it){
  return it &#x26;&#x26; fs.existsSync(
  normalize(
  it));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    copyDirectory = function(dest){
return function(dir, next){
  var name, orig, pkgDest;
  name = basename(
  dir);
  orig = join(dest, name);
  pkgDest = join(dest, name);
  return fs.<span class="apidocCodeKeywordSpan">exists</span>(orig, function(exists){
    if (exists) {
      return next();
    }
    return fs.exists(pkgDest, function(exists){
      if (exists) {
        return next();
      }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nar.utils.exit" id="apidoc.element.nar.utils.exit">
        function <span class="apidocSignatureSpan">nar.utils.</span>exit
        <span class="apidocSignatureSpan">(code)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">exit = function (code){
  if (code === 0 || !code) {
    exit(
    code);
  }
  return function(message){
    if (message != null) {
      if (String.prototype.red != null) {
        message = message.red;
      }
      _.echo(
      message);
    }
    return exit(
    code);
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nar.utils.extend" id="apidoc.element.nar.utils.extend">
        function <span class="apidocSignatureSpan">nar.utils.</span>extend
        <span class="apidocSignatureSpan">(target)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function extend(target) {
    var origins = Array.prototype.slice.call(arguments, 1);
    var obj = isObject(target) ? target : {};
    origins.reduce(function (origin, o, index) {
        isObject(origin) ? keys(origin).forEach(function (name) {
            return obj[name] = origin[name];
        }) : void 0;
        return origins[index + 1];
    }, origins[0]);
    return obj;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nar.utils.handleExit" id="apidoc.element.nar.utils.handleExit">
        function <span class="apidocSignatureSpan">nar.utils.</span>handleExit
        <span class="apidocSignatureSpan">(cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">handleExit = function (cb){
  var listener;
  listener = function(){
    process.stdin.resume();
    cb();
    return process.removeListener(&#x27;SIGINT&#x27;, listener);
  };
  return process.on(&#x27;SIGINT&#x27;, listener);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nar.utils.has" id="apidoc.element.nar.utils.has">
        function <span class="apidocSignatureSpan">nar.utils.</span>has
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function has() {
    var args = Array.prototype.slice.call(arguments, 0);
    return curry(function (obj, prop) {
        return hasOwn.call(obj, prop);
    }).apply(void 0, args);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nar.utils.httpStatus" id="apidoc.element.nar.utils.httpStatus">
        function <span class="apidocSignatureSpan">nar.utils.</span>httpStatus
        <span class="apidocSignatureSpan">(code)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">httpStatus = function (code){
  if (code) {
    return code + &#x22; &#x22; + (status[code] || &#x27;&#x27;);
  } else {
    return &#x27;&#x27;;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nar.utils.isArray" id="apidoc.element.nar.utils.isArray">
        function <span class="apidocSignatureSpan">nar.utils.</span>isArray
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function isArray() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nar.utils.isDir" id="apidoc.element.nar.utils.isDir">
        function <span class="apidocSignatureSpan">nar.utils.</span>isDir
        <span class="apidocSignatureSpan">(it)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isDir = function (it){
  return _.exists(
  it) &#x26;&#x26; fs.lstatSync(
  normalize(
  it)).isDirectory();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nar.utils.isExecutable" id="apidoc.element.nar.utils.isExecutable">
        function <span class="apidocSignatureSpan">nar.utils.</span>isExecutable
        <span class="apidocSignatureSpan">(path)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isExecutable = function (path){
  var buffer, num, data;
  buffer = new Buffer(25);
  num = fs.readSync(fs.openSync(path, &#x27;r&#x27;), buffer, 0, 25, 0);
  data = buffer.toString(&#x27;utf-8&#x27;, 0, num);
  return /^\#\!\/bin\/bash/.test(data) &#x26;&#x26; /\#\#nar\#\#/.test(data);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nar.utils.isFile" id="apidoc.element.nar.utils.isFile">
        function <span class="apidocSignatureSpan">nar.utils.</span>isFile
        <span class="apidocSignatureSpan">(it)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isFile = function (it){
  return _.exists(
  it) &#x26;&#x26; (fs.lstatSync(
  normalize(
  it)).isFile() || _.isLink(
  it));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
},
stringify: function(it){
  if (it) {
    return JSON.stringify(it, null, 2);
  }
},
resolvePkgPath: function(it){
  if (_.<span class="apidocCodeKeywordSpan">isFile</span>(
  it)) {
    return _.resolvePkgPath(
    dirname(
    it));
  } else {
    return it;
  }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nar.utils.isLink" id="apidoc.element.nar.utils.isLink">
        function <span class="apidocSignatureSpan">nar.utils.</span>isLink
        <span class="apidocSignatureSpan">(it)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isLink = function (it){
  return fs.lstatSync(
  normalize(
  it)).isSymbolicLink();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  normalize(
  it)).isSymbolicLink();
},
isFile: function(it){
  return _.exists(
  it) &#x26;&#x26; (fs.lstatSync(
  normalize(
  it)).isFile() || _.<span class="apidocCodeKeywordSpan">isLink</span>(
  it));
},
random: function(){
  return _.now() + Math.floor(Math.random() * 10000);
},
lines: function(it){
  if (it) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nar.utils.isObject" id="apidoc.element.nar.utils.isObject">
        function <span class="apidocSignatureSpan">nar.utils.</span>isObject
        <span class="apidocSignatureSpan">(x)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function isObject(x) {
    return toStr(x) === &#x27;[object Object]&#x27;;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    dirname(
    it));
  } else {
    return it;
  }
},
keys: function(it){
  if (hu.<span class="apidocCodeKeywordSpan">isObject</span>(
  it)) {
    return Object.keys(
    it);
  } else {
    return [];
  }
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nar.utils.isString" id="apidoc.element.nar.utils.isString">
        function <span class="apidocSignatureSpan">nar.utils.</span>isString
        <span class="apidocSignatureSpan">(x)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function isString(x) {
    return toStr(x) === &#x27;[object String]&#x27;;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nar.utils.isUrl" id="apidoc.element.nar.utils.isUrl">
        function <span class="apidocSignatureSpan">nar.utils.</span>isUrl
        <span class="apidocSignatureSpan">(it)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isUrl = function (it){
  return /^http[s]?\:/.test(
  it);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
tmpdir: function(name){
  name == null &#x26;&#x26; (name = &#x27;pkg&#x27;);
  name = basename(name, extname(
  name));
  return join(os.tmpdir(), &#x22;nar-&#x22; + name + &#x22;-&#x22; + _.random());
},
addExtension: function(it){
  if (it &#x26;&#x26; !_.<span class="apidocCodeKeywordSpan">isUrl</span>(
  it)) {
    if (!/.nar$/.test(it)) {
      it += &#x27;.nar&#x27;;
    }
  }
  return it;
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nar.utils.keys" id="apidoc.element.nar.utils.keys">
        function <span class="apidocSignatureSpan">nar.utils.</span>keys
        <span class="apidocSignatureSpan">(it)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">keys = function (it){
  if (hu.isObject(
  it)) {
    return Object.keys(
    it);
  } else {
    return [];
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  } else {
    return it;
  }
},
keys: function(it){
  if (hu.isObject(
  it)) {
    return Object.<span class="apidocCodeKeywordSpan">keys</span>(
    it);
  } else {
    return [];
  }
},
tmpdir: function(name){
  name == null &#x26;&#x26; (name = &#x27;pkg&#x27;);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nar.utils.lines" id="apidoc.element.nar.utils.lines">
        function <span class="apidocSignatureSpan">nar.utils.</span>lines
        <span class="apidocSignatureSpan">(it)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">lines = function (it){
  if (it) {
    return it.split(os.EOL);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nar.utils.logError" id="apidoc.element.nar.utils.logError">
        function <span class="apidocSignatureSpan">nar.utils.</span>logError
        <span class="apidocSignatureSpan">(err, debug)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">logError = function (err, debug){
  if (err) {
    if (debug &#x26;&#x26; err.stack) {
      return err.stack;
    } else {
      return (&#x22;Error: &#x22; + (err.message || err)).red;
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nar.utils.mk" id="apidoc.element.nar.utils.mk">
        function <span class="apidocSignatureSpan">nar.utils.</span>mk
        <span class="apidocSignatureSpan">(p, opts, made)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function sync(p, opts, made) {
    if (!opts || typeof opts !== &#x27;object&#x27;) {
        opts = { mode: opts };
    }

    var mode = opts.mode;
    var xfs = opts.fs || fs;

    if (mode === undefined) {
        mode = _0777 &#x26; (~process.umask());
    }
    if (!made) made = null;

    p = path.resolve(p);

    try {
        xfs.mkdirSync(p, mode);
        made = made || p;
    }
    catch (err0) {
        switch (err0.code) {
            case &#x27;ENOENT&#x27; :
                made = sync(path.dirname(p), opts, made);
                sync(p, opts, made);
                break;

            // In the case of any other error, just see if there&#x27;s a dir
            // there already.  If so, then hooray!  If not, then something
            // is borked.
            default:
                var stat;
                try {
                    stat = xfs.statSync(p);
                }
                catch (err1) {
                    throw err0;
                }
                if (!stat.isDirectory()) throw err0;
                break;
        }
    }

    return made;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nar.utils.next" id="apidoc.element.nar.utils.next">
        function <span class="apidocSignatureSpan">nar.utils.</span>next
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function nextTick(callback) {
  if (typeof callback !== &#x27;function&#x27;)
    throw new TypeError(&#x27;callback is not a function&#x27;);
  // on the way out, don&#x27;t bother. it won&#x27;t get fired anyway.
  if (process._exiting)
    return;

  var args;
  if (arguments.length &#x3e; 1) {
    args = new Array(arguments.length - 1);
    for (var i = 1; i &#x3c; arguments.length; i++)
      args[i - 1] = arguments[i];
  }

  nextTickQueue.push({
    callback,
    domain: process.domain || null,
    args
  });
  tickInfo[kLength]++;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nar.utils.now" id="apidoc.element.nar.utils.now">
        function <span class="apidocSignatureSpan">nar.utils.</span>now
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">now = function (){
  return Date.now();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
rm: rm.sync,
mk: mk.sync,
next: nextTick,
env: function(it){
  return env[it] || null;
},
now: function(){
  return Date.<span class="apidocCodeKeywordSpan">now</span>();
},
isWin: platform === &#x27;win32&#x27;,
toKb: function(it){
  if (it) {
    return Math.round(it / 1024) || 1;
  } else {
    return 0;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nar.utils.once" id="apidoc.element.nar.utils.once">
        function <span class="apidocSignatureSpan">nar.utils.</span>once
        <span class="apidocSignatureSpan">(cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">once = function (cb){
  var error;
  error = false;
  return function(it){
    if (!error) {
      cb.apply(this, arguments);
    }
    if (it) {
      return error = true;
    }
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nar.utils.random" id="apidoc.element.nar.utils.random">
        function <span class="apidocSignatureSpan">nar.utils.</span>random
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">random = function (){
  return _.now() + Math.floor(Math.random() * 10000);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    return [];
  }
},
tmpdir: function(name){
  name == null &#x26;&#x26; (name = &#x27;pkg&#x27;);
  name = basename(name, extname(
  name));
  return join(os.tmpdir(), &#x22;nar-&#x22; + name + &#x22;-&#x22; + _.<span class="apidocCodeKeywordSpan">random</span>());
},
addExtension: function(it){
  if (it &#x26;&#x26; !_.isUrl(
  it)) {
    if (!/.nar$/.test(it)) {
      it += &#x27;.nar&#x27;;
    }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nar.utils.read" id="apidoc.element.nar.utils.read">
        function <span class="apidocSignatureSpan">nar.utils.</span>read
        <span class="apidocSignatureSpan">(it)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">read = function (it){
  var data;
  if (_.exists(
  it)) {
    data = fs.readFileSync(
    normalize(
    it)).toString();
    if (/.json$/.test(
    it)) {
      return JSON.parse(
      data);
    } else {
      return data;
    }
  } else {
    return null;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nar.utils.rename" id="apidoc.element.nar.utils.rename">
        function <span class="apidocSignatureSpan">nar.utils.</span>rename
        <span class="apidocSignatureSpan">(orig, filename, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">rename = function (orig, filename, cb){
  var base;
  base = dirname(
  orig);
  return fs.rename(orig, join(base, filename), cb);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    return cb(null, hash.digest(&#x27;hex&#x27;));
  }).on(&#x27;error&#x27;, cb);
},
rename: function(orig, filename, cb){
  var base;
  base = dirname(
  orig);
  return fs.<span class="apidocCodeKeywordSpan">rename</span>(orig, join(base, filename), cb);
},
copy: function(file, dest, cb){
  var filename;
  filename = basename(
  file);
  dest = join(dest, filename);
  return fs.createReadStream(
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nar.utils.replaceEnvVars" id="apidoc.element.nar.utils.replaceEnvVars">
        function <span class="apidocSignatureSpan">nar.utils.</span>replaceEnvVars
        <span class="apidocSignatureSpan">(str)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">replaceEnvVars = function (str){
  return str.replace(/\$\{(\w+)\}/ig, function(_, name){
    return process.env[name] || &#x27;&#x27;;
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nar.utils.resolvePkgPath" id="apidoc.element.nar.utils.resolvePkgPath">
        function <span class="apidocSignatureSpan">nar.utils.</span>resolvePkgPath
        <span class="apidocSignatureSpan">(it)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">resolvePkgPath = function (it){
  if (_.isFile(
  it)) {
    return _.resolvePkgPath(
    dirname(
    it));
  } else {
    return it;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  if (it) {
    return JSON.stringify(it, null, 2);
  }
},
resolvePkgPath: function(it){
  if (_.isFile(
  it)) {
    return _.<span class="apidocCodeKeywordSpan">resolvePkgPath</span>(
    dirname(
    it));
  } else {
    return it;
  }
},
keys: function(it){
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nar.utils.rm" id="apidoc.element.nar.utils.rm">
        function <span class="apidocSignatureSpan">nar.utils.</span>rm
        <span class="apidocSignatureSpan">(p, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function rimrafSync(p, options) {
  options = options || {}
  defaults(options)

  assert(p, &#x27;rimraf: missing path&#x27;)
  assert.equal(typeof p, &#x27;string&#x27;, &#x27;rimraf: path should be a string&#x27;)
  assert(options, &#x27;rimraf: missing options&#x27;)
  assert.equal(typeof options, &#x27;object&#x27;, &#x27;rimraf: options should be object&#x27;)

  var results

  if (options.disableGlob || !glob.hasMagic(p)) {
    results = [p]
  } else {
    try {
      options.lstatSync(p)
      results = [p]
    } catch (er) {
      results = glob.sync(p, options.glob)
    }
  }

  if (!results.length)
    return

  for (var i = 0; i &#x3c; results.length; i++) {
    var p = results[i]

    try {
      var st = options.lstatSync(p)
    } catch (er) {
      if (er.code === &#x22;ENOENT&#x22;)
        return

      // Windows can EPERM on stat.  Life is suffering.
      if (er.code === &#x22;EPERM&#x22; &#x26;&#x26; isWindows)
        fixWinEPERMSync(p, options, er)
    }

    try {
      // sunos lets the root user unlink directories, which is... weird.
      if (st &#x26;&#x26; st.isDirectory())
        rmdirSync(p, options, null)
      else
        options.unlinkSync(p)
    } catch (er) {
      if (er.code === &#x22;ENOENT&#x22;)
        return
      if (er.code === &#x22;EPERM&#x22;)
        return isWindows ? fixWinEPERMSync(p, options, er) : rmdirSync(p, options, er)
      if (er.code !== &#x22;EISDIR&#x22;)
        throw er

      rmdirSync(p, options, er)
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nar.utils.stringify" id="apidoc.element.nar.utils.stringify">
        function <span class="apidocSignatureSpan">nar.utils.</span>stringify
        <span class="apidocSignatureSpan">(it)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">stringify = function (it){
  if (it) {
    return JSON.stringify(it, null, 2);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        }
      }
    }
  }
  return writeJson(pkgPath, pkg);
};
writeJson = function(path, pkg){
  return write(path, JSON.<span class="apidocCodeKeywordSpan">stringify</span>(pkg, null, 2));
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nar.utils.tmpdir" id="apidoc.element.nar.utils.tmpdir">
        function <span class="apidocSignatureSpan">nar.utils.</span>tmpdir
        <span class="apidocSignatureSpan">(name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">tmpdir = function (name){
  name == null &#x26;&#x26; (name = &#x27;pkg&#x27;);
  name = basename(name, extname(
  name));
  return join(os.tmpdir(), &#x22;nar-&#x22; + name + &#x22;-&#x22; + _.random());
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    return [];
  }
},
tmpdir: function(name){
  name == null &#x26;&#x26; (name = &#x27;pkg&#x27;);
  name = basename(name, extname(
  name));
  return join(os.<span class="apidocCodeKeywordSpan">tmpdir</span>(), &#x22;nar-&#x22; + name + &#x22;-&#x22; + _.random());
},
addExtension: function(it){
  if (it &#x26;&#x26; !_.isUrl(
  it)) {
    if (!/.nar$/.test(it)) {
      it += &#x27;.nar&#x27;;
    }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nar.utils.toKb" id="apidoc.element.nar.utils.toKb">
        function <span class="apidocSignatureSpan">nar.utils.</span>toKb
        <span class="apidocSignatureSpan">(it)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toKb = function (it){
  if (it) {
    return Math.round(it / 1024) || 1;
  } else {
    return 0;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nar.utils.vals" id="apidoc.element.nar.utils.vals">
        function <span class="apidocSignatureSpan">nar.utils.</span>vals
        <span class="apidocSignatureSpan">(obj)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function vals(obj) {
    return keys(obj).map(function (key) {
        return (obj || 0)[key];
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nar.utils.winBinaryScript" id="apidoc.element.nar.utils.winBinaryScript">
        function <span class="apidocSignatureSpan">nar.utils.</span>winBinaryScript
        <span class="apidocSignatureSpan">(path)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">winBinaryScript = function (path){
  path = normalize(
  path);
  return &#x22;@ECHO OFF\n@IF EXIST \&#x22;%~dp0\\node.exe\&#x22; (\n  \&#x22;%~dp0\\node.exe\&#x22; \&#x22;&#x22; + path + &#x22;\&#x22; %*\n) ELSE (\n  node \&#x22;&#x22; + path + &#x22;\&#x22; %*\n)&#x22;;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nar.utils.write" id="apidoc.element.nar.utils.write">
        function <span class="apidocSignatureSpan">nar.utils.</span>write
        <span class="apidocSignatureSpan">(path, data)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">write = function (path, data){
  if (path) {
    return fs.writeFileSync(path, data);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>










</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
